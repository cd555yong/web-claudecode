# Claude Web Interface - YASHU

[![Version](https://img.shields.io/badge/Version-2.0.43-blue.svg)](https://github.com/cd555yong/web-claudecode)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

现代化的 Claude Code Web 界面，提供更友好的用户体验和强大的功能集合。相比原生的 Claude Code CLI，本项目在保留所有 Claude 功能的基础上，提供了丰富的可视化界面和增强功能。

## 🌟 核心优势 vs Claude Code CLI

### ✅ 相对于 Claude Code CLI 的优势

| 功能特性 | Claude Code CLI | Claude Web Interface |
|---------|---------------|-------------------|
| **用户界面** | 纯命令行界面 | 现代化 Web 图形界面 |
| **实时交互** | 静态文本输出 | 实时流式输出 + 思考过程可视化 |
| **会话管理** | 单次会话 | 多话题持久化会话管理 |
| **文件处理** | 命令行指定文件 | 拖拽上传 + 粘贴图片支持 |
| **版本控制** | 无内置版本管理 | IDE级文件版本管理与差异对比 |
| **上下文管理** | 手动管理 | 智能上下文优化与可视化 |
| **多媒体支持** | 纯文本 | 图片上传 + 富文本渲染 |
| **可访问性** | 需要命令行基础 | 浏览器即用，无技术门槛 |

### 🔧 解决的 Claude Code CLI 不足

1. **用户体验问题**
   - ❌ CLI 界面对普通用户不友好
   - ✅ 提供直观的图形化界面

2. **功能限制**
   - ❌ 无法保存和管理多个对话
   - ✅ 支持无限话题管理和历史记录

3. **文件操作复杂**
   - ❌ 需要手动指定文件路径
   - ✅ 支持拖拽和粘贴操作

4. **缺少可视化**
   - ❌ 无法可视化文件变更
   - ✅ IDE级差异对比和版本控制


## 🚀 核心功能特性

### 💬 智能对话系统
- **实时流式输出**: 逐字符显示 AI 响应，提供即时反馈
- **思考过程可视化**: 展示 AI 的思考过程，增强透明度
- **原始上下文质量**: 保持完整的原始上下文发送，无优化过滤，确保 AI 响应质量最佳
- **提示词模板系统**: 可自定义设计提示词模板，每次问题都能确保发出一致的提示词，提升响应准确性

### 📂 话题与会话管理
- **多话题支持**: 创建、重命名、删除话题，分类管理对话
- **会话持久化**: 自动保存对话历史，重启后可恢复
- **话题切换**: 快速在不同话题间切换，保持上下文
- **会话统计**: 详细的使用统计和性能监控

### 🛠 文件版本管理系统（核心亮点）
- **完整的变更跟踪**: 实时监控所有文件的删除、修改、创建操作，记录每一次变更
- **可视化 Diff 对比**: 高亮显示文件变更，支持逐行、逐字符级别的差异对比
- **片段级精准回滚**: 不仅可以整个文件回滚，还支持选择特定代码片段进行还原
- **智能文件恢复**: 一键恢复已删除文件，支持恢复到任意历史版本
- **安全的编辑环境**: 不怕乱删除乱改，所有操作都可回滚，完全可视化管理
- **IDE级版本控制**: 媲美专业IDE的文件版本管理，但更简单易用

### 📁 多媒体文件支持
- **拖拽上传**: 支持文件/文件夹拖拽，智能路径检测
- **图片粘贴**: 直接粘贴截图，自动处理图片文件
- **路径智能解析**: 自动识别并处理各种文件路径格式
- **批量处理**: 支持多文件同时上传和处理

### 🎨 现代化用户界面
- **响应式设计**: 适配各种屏幕尺寸，移动端友好
- **实时状态显示**: 连接状态、处理进度、错误提示
- **可视化统计**: 实时显示 token 使用、成本统计等
- **主题定制**: 支持明暗主题切换

### ⚡ 性能优化系统
- **智能重试机制**: 自动处理网络异常和临时错误
- **并发优化**: 支持多会话并发处理
- **内存管理**: 智能的上下文压缩和内存优化
- **缓存系统**: 减少重复请求，提升响应速度

## ⚙️ 快速开始

### 🎯 一键启动 (推荐)
1. **下载独立程序**
   - 下载最新版本的 `claude-web.exe`
   - 无需安装任何依赖，双击即可启动
   - 自带完整运行环境，开箱即用

2. **访问界面**
   - 程序启动后会自动打开浏览器
   - 或手动访问: `http://localhost:8000`
   - 支持所有现代浏览器(Chrome/Edge/Firefox/Safari)

### 🔧 程序配置
- **首次启动**: 程序会自动创建配置文件和数据目录
- **数据存储**: 所有会话数据保存在程序同目录下
- **端口设置**: 默认使用8000端口，如有冲突会自动选择其他端口

## 🎯 使用指南

### 💬 基本对话
1. 启动程序，浏览器访问 `http://localhost:8000`
2. 在聊天框输入问题，按回车发送
3. 查看实时流式响应和思考过程
4. 支持多轮对话，自动管理上下文

### 📂 话题管理
1. 点击左上角"📋"按钮打开话题面板
2. "新话题"创建新的对话主题
3. 点击话题卡片切换到对应会话
4. 支持重命名和删除操作

### 📁 文件处理
1. **拖拽上传**: 直接拖拽文件到聊天区域
2. **图片粘贴**: Ctrl+V 粘贴截图或复制的图片
3. **路径输入**: 在消息中包含文件路径，自动识别
4. **版本管理**: 查看文件变更历史和差异对比

### 🎨 高级功能
1. **提示词模板**: 在设置中配置常用提示词
2. **上下文优化**: 自动压缩长对话，保持性能
3. **自动更新**: 检查并安装最新版本
4. **统计监控**: 查看 token 使用和成本统计

## 🐛 常见问题

### 启动问题

**Q: 程序启动失败或闪退**
- 确保您的操作系统为 Windows 10+ 64位
- 尝试以管理员身份运行程序
- 检查防病毒软件是否误报，添加程序到白名单

**Q: 无法访问界面**  
- 检查防火墙设置，允许程序访问网络
- 尝试手动访问 `http://localhost:8000`
- 如端口被占用，程序会自动选择其他端口，查看程序窗口提示

**Q: Claude 连接失败**
- 确保网络连接正常，能够访问 Claude API
- 检查 Claude 账户状态和 API 配额
- 重启程序重新建立连接

### 使用问题

**Q: 文件上传失败**
- 检查文件大小，单个文件限制 10MB
- 确保文件未被其他程序占用
- 支持的文件类型：文本文件、图片、代码文件等

**Q: 会话数据丢失**
- 会话数据自动保存在程序目录的 `sessions` 文件夹
- 不要删除程序目录下的数据文件夹
- 定期备份重要对话记录

## 📈 性能优化

### 系统要求
- **操作系统**: Windows 10+ (仅支持 Windows)
- **内存**: 建议 4GB+ RAM
- **磁盘空间**: 100MB+ 可用空间
- **网络**: 稳定的互联网连接(访问 Claude API)

### 性能调优建议
1. **减少上下文长度**: 定期清理长对话
2. **限制并发会话**: 避免同时运行过多会话
3. **关闭调试功能**: 生产环境关闭详细日志
4. **使用 SSD**: 提升文件 I/O 性能

## 📝 更新日志

### v2.0.43 (最新版)
- 🔥 全新文件版本管理系统
- 📂 完整的文件变更跟踪和备份
- 🎨 IDE风格的差异对比可视化
- ⚡ 代码片段级别的还原操作
- 🛡️ 智能备份，支持一键回滚

### v2.0.42
- 🖼️ 支持图片直接粘贴
- 📁 文件/文件夹拖拽路径智能检测
- 🚀 简化文件上传流程

### v2.0.41
- 🔧 上下文预警阈值优化(425K→380K)
- 📉 提升AI响应质量稳定性

### v2.0.40
- 🔥 全新历史话题管理系统
- ✨ 话题创建、重命名、删除功能
- 🎨 提示词模板设置功能
- 🏗️ JavaScript代码模块化重构

[查看完整更新日志](version.json)

## 📄 许可证

本项目基于 [MIT 许可证](LICENSE) 开源。

## 🙋‍♂️ 支持与反馈

- **问题报告**: [GitHub Issues](https://github.com/cd555yong/web-claudecode/issues)
- **功能建议**: [GitHub Discussions](https://github.com/cd555yong/web-claudecode/discussions)
- **使用帮助**: 程序内置帮助文档和使用指南

## 🌟 致谢

- [Anthropic Claude](https://anthropic.com) - 提供强大的AI能力
- 所有用户的支持与反馈

---

⭐ 如果这个项目对您有帮助，请给我们一个 Star！

**让 Claude 更好用，让 AI 开发更简单！** 🚀